[{"_id":{"$objectID":"59b1051e9fcdd93b28dbf323"},"code":"this.debug('fetching School Programmes.');\nthis.debug(this.args);\nthis.libs.getEntity.call(this,'SchoolProgramme','name',callback);","title":"Get SchoolProgramme","uid":"GET_SCHOOLPROGRAMME","requiresIdentity":false,"__v":0,"standalone":true},{"_id":{"$objectID":"5a6abc4cb0e23c31183e6fbd"},"code":"this.libs.getDomain.call(this, (er, domain) => {\n  if (er) return callback(er);\n\n  let merchantConfig = this.libs.flattenByNamespace(\"remita\", domain.config);\n  this.debug(merchantConfig);\n  this.libs.confirmRemitaPayment.call(this, this.args.invoiceNumber, merchantConfig, domain, (er, status) => {\n    if (er) return callback(er);\n\n    if (!status) return callback(new Error(\"You have been unable to confirm payment has been made against \" + this.args.invoiceNumber));\n\n    this.debug('payment successfully confirmed');\n    callback(null, { _invoiceNumber: this.args.invoiceNumber });\n  });\n});\n","title":"Check RRR transaction status","uid":"CHECK_RRR_STATUS","requiresIdentity":true,"__v":0,"standalone":false},{"_id":{"$objectID":"5a70cb6ea5538a22fc20eac6"},"code":"//NOTE: No user should ever be issued a claim to call this processor\nthis.libs.getDomain.call(this, (er, domain) => {\n  if (er) return callback(er);\n  Object.defineProperties(this.args, {\n    $appDomain: {\n      enumerable: false,\n      get: function() {\n        return domain;\n      }\n    }\n  });\n  callback(null, this.args);\n});\n","title":"Get Domain Config [NEVER ISSUE THIS CLAIM TO ANY USER]","requiresIdentity":true,"uid":"GET_DOMAIN_CONFIG","__v":0,"standalone":false},{"_id":{"$objectID":"5a72b60d48dda81fc8cd8f15"},"code":"setImmediate(callback, null, (Object.keys(this.args).length && this.args) || null);\n","title":"Make args initial data for a process","requiresIdentity":true,"__v":0,"standalone":false,"uid":"ARGS_TO_DATA"},{"_id":{"$objectID":"5aadaa3a1d72c25720a6b67d"},"code":"this.entityRepo.get(this.args.$appDomain.config.invoiceClass, { invoiceNumber: this.args.invoiceNumber }, { one: true }, (er, invoice) => {\n  if (er) return callback(er);\n  if (!invoice) return callback(new Error(\"Cannot find any invoice with that invoice number\"));\n\n  return callback(null, {\n    personalDetails: {\n      firstName: invoice.extra.firstName,\n      surname: invoice.extra.surname,\n      middleName: invoice.extra.middleName\n    }\n  });\n});\n","title":"Get Firstname,Middlename and Surname from Invoice","requiresIdentity":true,"standalone":false,"__v":0},{"_id":{"$objectID":"5ac62c50bf9dec3dd0b3cf4d"},"code":"this.libs.confirmInvoiceIsFor.call(this,this.args.invoiceNumber, \"PG_APP_FORM\", er => {\r\n  if (er) return callback(er);\r\n\r\n  return this.libs.skipApplicationIfAllowed.call(\r\n    this,\r\n    this.args.$appDomain.config.postGraduateClass,\r\n    \"SUBMIT_POST_GRADUATE\",\r\n    callback\r\n  );\r\n});\r\n","title":"Confirm Invoice is for Post Graduate","uid":"CONFIRM_INVOICE_FOR_POST_GRADUATE","requiresIdentity":false,"standalone":false,"__v":0},{"_id":{"$objectID":"5ac62ffdbf9dec3dd0b3cf4e"},"code":"new this.libs.ExternalApplication(this).register(\r\n  \"postGraduateClass\",\r\n  [\"POST_GRADUATE_DETAILS\"],\r\n  [\r\n    function(application, cb) {\r\n      setImmediate(cb, null, [[\"GENERAL_STYLES\", \"TABLE_STYLES\"]]);\r\n    }\r\n  ],\r\n  callback\r\n);\r\n","title":"Submit Post-Graduate application","requiresIdentity":false,"standalone":false,"__v":0,"uid":"SUBMIT_POST_GRADUATE"}]
